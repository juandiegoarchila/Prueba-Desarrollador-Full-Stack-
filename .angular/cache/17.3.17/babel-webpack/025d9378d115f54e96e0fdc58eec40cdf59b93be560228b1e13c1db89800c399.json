{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { AppValidators } from '../../shared/utils/validators.util';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../core/services/auth.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"../../core/services/notification.service\";\nimport * as i5 from \"@angular/common\";\nfunction RegisterPage_div_15_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"El nombre es requerido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterPage_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, RegisterPage_div_15_span_1_Template, 2, 0, \"span\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.registerForm.get(\"name\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n  }\n}\nfunction RegisterPage_div_20_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"El correo es requerido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterPage_div_20_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Ingresa un correo v\\u00E1lido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterPage_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, RegisterPage_div_20_span_1_Template, 2, 0, \"span\", 20)(2, RegisterPage_div_20_span_2_Template, 2, 0, \"span\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.registerForm.get(\"email\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r0.registerForm.get(\"email\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"email\"]);\n  }\n}\nfunction RegisterPage_div_25_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"La contrase\\u00F1a es requerida.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterPage_div_25_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"M\\u00EDnimo 6 caracteres.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterPage_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, RegisterPage_div_25_span_1_Template, 2, 0, \"span\", 20)(2, RegisterPage_div_25_span_2_Template, 2, 0, \"span\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.registerForm.get(\"password\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r0.registerForm.get(\"password\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"minlength\"]);\n  }\n}\nfunction RegisterPage_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"span\");\n    i0.ɵɵtext(2, \"Las contrase\\u00F1as no coinciden.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegisterPage_ion_spinner_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-spinner\", 24);\n  }\n}\nfunction RegisterPage_span_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Registrarme\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let RegisterPage = /*#__PURE__*/(() => {\n  class RegisterPage {\n    constructor(fb, auth, nav, notify) {\n      this.fb = fb;\n      this.auth = auth;\n      this.nav = nav;\n      this.notify = notify;\n      this.isLoading = false;\n      this.registerForm = this.fb.group({\n        name: ['', Validators.required],\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(6)]],\n        confirmPassword: ['', [Validators.required]]\n      }, {\n        validators: AppValidators.passwordMatch('password', 'confirmPassword')\n      });\n    }\n    onSubmit() {\n      if (this.registerForm.valid) {\n        this.isLoading = true;\n        const {\n          name,\n          email,\n          password\n        } = this.registerForm.value;\n        this.auth.register(name, email, password).subscribe({\n          next: () => {\n            this.isLoading = false;\n            this.notify.showSuccess('Bienvenido(a) a Grupo Merpes');\n            this.nav.navigateRoot('/catalog');\n          },\n          error: err => {\n            this.isLoading = false;\n            this.notify.showError('Error al registrar: ' + err);\n          }\n        });\n      }\n    }\n    goToLogin() {\n      this.nav.navigateBack('/login');\n    }\n    static {\n      this.ɵfac = function RegisterPage_Factory(t) {\n        return new (t || RegisterPage)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.NavController), i0.ɵɵdirectiveInject(i4.NotificationService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RegisterPage,\n        selectors: [[\"app-register\"]],\n        decls: 39,\n        vars: 8,\n        consts: [[1, \"auth-content\"], [1, \"auth-container\"], [1, \"auth-card\", \"fade-in-up\"], [1, \"header-section\"], [1, \"logo-circle\"], [\"name\", \"person-add-outline\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"input-group\"], [\"lines\", \"none\", 1, \"custom-item\"], [\"name\", \"person-outline\", \"slot\", \"start\", \"color\", \"medium\"], [\"formControlName\", \"name\", \"type\", \"text\", \"placeholder\", \"Nombre completo\"], [\"class\", \"error-msg\", 4, \"ngIf\"], [\"name\", \"mail-outline\", \"slot\", \"start\", \"color\", \"medium\"], [\"formControlName\", \"email\", \"type\", \"email\", \"placeholder\", \"Correo electr\\u00F3nico\"], [\"name\", \"lock-closed-outline\", \"slot\", \"start\", \"color\", \"medium\"], [\"formControlName\", \"password\", \"type\", \"password\", \"placeholder\", \"Contrase\\u00F1a\"], [\"name\", \"shield-checkmark-outline\", \"slot\", \"start\", \"color\", \"medium\"], [\"formControlName\", \"confirmPassword\", \"type\", \"password\", \"placeholder\", \"Confirmar contrase\\u00F1a\"], [\"expand\", \"block\", \"type\", \"submit\", 1, \"main-btn\", 3, \"disabled\"], [\"name\", \"crescent\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"footer-link\"], [3, \"click\"], [1, \"error-msg\"], [\"name\", \"crescent\"]],\n        template: function RegisterPage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n            i0.ɵɵelement(5, \"ion-icon\", 5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"h2\");\n            i0.ɵɵtext(7, \"Crear Cuenta\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"p\");\n            i0.ɵɵtext(9, \"\\u00DAnete para explorar nuestro cat\\u00E1logo\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"form\", 6);\n            i0.ɵɵlistener(\"ngSubmit\", function RegisterPage_Template_form_ngSubmit_10_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(11, \"div\", 7)(12, \"ion-item\", 8);\n            i0.ɵɵelement(13, \"ion-icon\", 9)(14, \"ion-input\", 10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(15, RegisterPage_div_15_Template, 2, 1, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"div\", 7)(17, \"ion-item\", 8);\n            i0.ɵɵelement(18, \"ion-icon\", 12)(19, \"ion-input\", 13);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(20, RegisterPage_div_20_Template, 3, 2, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(21, \"div\", 7)(22, \"ion-item\", 8);\n            i0.ɵɵelement(23, \"ion-icon\", 14)(24, \"ion-input\", 15);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(25, RegisterPage_div_25_Template, 3, 2, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"div\", 7)(27, \"ion-item\", 8);\n            i0.ɵɵelement(28, \"ion-icon\", 16)(29, \"ion-input\", 17);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(30, RegisterPage_div_30_Template, 3, 0, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(31, \"ion-button\", 18);\n            i0.ɵɵtemplate(32, RegisterPage_ion_spinner_32_Template, 1, 0, \"ion-spinner\", 19)(33, RegisterPage_span_33_Template, 2, 0, \"span\", 20);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(34, \"div\", 21)(35, \"p\");\n            i0.ɵɵtext(36, \"\\u00BFYa tienes cuenta? \");\n            i0.ɵɵelementStart(37, \"a\", 22);\n            i0.ɵɵlistener(\"click\", function RegisterPage_Template_a_click_37_listener() {\n              return ctx.goToLogin();\n            });\n            i0.ɵɵtext(38, \"Inicia Sesi\\u00F3n\");\n            i0.ɵɵelementEnd()()()()()();\n          }\n          if (rf & 2) {\n            let tmp_1_0;\n            let tmp_2_0;\n            let tmp_3_0;\n            let tmp_4_0;\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.registerForm.get(\"name\")) == null ? null : tmp_1_0.touched) && ((tmp_1_0 = ctx.registerForm.get(\"name\")) == null ? null : tmp_1_0.invalid));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.registerForm.get(\"email\")) == null ? null : tmp_2_0.touched) && ((tmp_2_0 = ctx.registerForm.get(\"email\")) == null ? null : tmp_2_0.invalid));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.registerForm.get(\"password\")) == null ? null : tmp_3_0.touched) && ((tmp_3_0 = ctx.registerForm.get(\"password\")) == null ? null : tmp_3_0.invalid));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ctx.registerForm.hasError(\"passwordMismatch\") && ((tmp_4_0 = ctx.registerForm.get(\"confirmPassword\")) == null ? null : tmp_4_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"disabled\", !ctx.registerForm.valid || ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n          }\n        },\n        dependencies: [i5.NgIf, i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i3.IonButton, i3.IonContent, i3.IonIcon, i3.IonInput, i3.IonItem, i3.IonSpinner, i3.TextValueAccessor],\n        encapsulation: 2\n      });\n    }\n  }\n  return RegisterPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}