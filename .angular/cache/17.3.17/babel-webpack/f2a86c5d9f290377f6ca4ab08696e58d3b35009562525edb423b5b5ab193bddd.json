{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/juand/OneDrive/Escritorio/Grupo Merpes/prueba-fullstack-ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../core/services/auth.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"../../core/services/notification.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/router\";\nfunction LoginPage_ion_note_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-note\", 18);\n    i0.ɵɵtext(1, \" El correo es requerido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginPage_ion_note_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-note\", 18);\n    i0.ɵɵtext(1, \" Correo inv\\u00E1lido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginPage_ion_note_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-note\", 18);\n    i0.ɵɵtext(1, \" M\\u00EDnimo 6 caracteres. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let LoginPage = /*#__PURE__*/(() => {\n  class LoginPage {\n    constructor(fb, auth, nav, notify, loadingCtrl) {\n      this.fb = fb;\n      this.auth = auth;\n      this.nav = nav;\n      this.notify = notify;\n      this.loadingCtrl = loadingCtrl;\n      this.loginForm = this.fb.group({\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(6)]]\n      });\n    }\n    onSubmit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (_this.loginForm.valid) {\n          const loading = yield _this.loadingCtrl.create({\n            message: 'Validando...'\n          });\n          yield loading.present();\n          const {\n            email,\n            password\n          } = _this.loginForm.value;\n          _this.auth.login(email, password).subscribe({\n            next: () => {\n              loading.dismiss();\n              _this.notify.showSuccess('Bienvenido de nuevo');\n              _this.nav.navigateRoot('/catalog');\n            },\n            error: err => {\n              loading.dismiss();\n              _this.notify.showError('Credenciales incorrectas');\n            }\n          });\n        } else {\n          _this.loginForm.markAllAsTouched();\n        }\n      })();\n    }\n    static {\n      this.ɵfac = function LoginPage_Factory(t) {\n        return new (t || LoginPage)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.NavController), i0.ɵɵdirectiveInject(i4.NotificationService), i0.ɵɵdirectiveInject(i3.LoadingController));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LoginPage,\n        selectors: [[\"app-login\"]],\n        decls: 30,\n        vars: 5,\n        consts: [[\"color\", \"light\", 1, \"ion-padding\"], [1, \"login-container\"], [1, \"ion-text-center\", \"ion-margin-bottom\"], [1, \"logo-circle\"], [\"name\", \"cube\", \"color\", \"primary\"], [1, \"text-bold\", \"text-dark\"], [1, \"text-medium\", \"text-muted\"], [1, \"shadow-card\", \"ion-no-margin\"], [3, \"ngSubmit\", \"formGroup\"], [\"lines\", \"full\", 1, \"ion-margin-bottom\", \"input-item\"], [\"position\", \"stacked\"], [\"formControlName\", \"email\", \"type\", \"email\", \"placeholder\", \"ejemplo@correo.com\"], [\"slot\", \"error\", 4, \"ngIf\"], [\"formControlName\", \"password\", \"type\", \"password\", \"placeholder\", \"******\"], [\"expand\", \"block\", \"type\", \"submit\", \"shape\", \"round\", 1, \"ion-margin-top\", \"text-bold\", \"button-large\", 3, \"disabled\"], [1, \"ion-text-center\", \"ion-margin-top\"], [1, \"text-medium\"], [\"routerLink\", \"/register\", 1, \"link-primary\"], [\"slot\", \"error\"]],\n        template: function LoginPage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n            i0.ɵɵelement(4, \"ion-icon\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"h1\", 5);\n            i0.ɵɵtext(6, \"Bienvenido\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"p\", 6);\n            i0.ɵɵtext(8, \"Inicia sesi\\u00F3n para continuar\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"ion-card\", 7)(10, \"ion-card-content\")(11, \"form\", 8);\n            i0.ɵɵlistener(\"ngSubmit\", function LoginPage_Template_form_ngSubmit_11_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(12, \"ion-item\", 9)(13, \"ion-label\", 10);\n            i0.ɵɵtext(14, \"Correo Electr\\u00F3nico\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(15, \"ion-input\", 11);\n            i0.ɵɵtemplate(16, LoginPage_ion_note_16_Template, 2, 0, \"ion-note\", 12)(17, LoginPage_ion_note_17_Template, 2, 0, \"ion-note\", 12);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"ion-item\", 9)(19, \"ion-label\", 10);\n            i0.ɵɵtext(20, \"Contrase\\u00F1a\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(21, \"ion-input\", 13);\n            i0.ɵɵtemplate(22, LoginPage_ion_note_22_Template, 2, 0, \"ion-note\", 12);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"ion-button\", 14);\n            i0.ɵɵtext(24, \" INGRESE AHORA \");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(25, \"div\", 15)(26, \"p\", 16);\n            i0.ɵɵtext(27, \" \\u00BFNo tienes cuenta? \");\n            i0.ɵɵelementStart(28, \"a\", 17);\n            i0.ɵɵtext(29, \"Reg\\u00EDstrate gratis\");\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            let tmp_1_0;\n            let tmp_2_0;\n            let tmp_3_0;\n            i0.ɵɵadvance(11);\n            i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_1_0.dirty) && ((tmp_1_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_1_0.hasError(\"required\")));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_2_0.dirty) && ((tmp_2_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_2_0.hasError(\"email\")));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_3_0.dirty) && ((tmp_3_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_3_0.hasError(\"minlength\")));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"disabled\", !ctx.loginForm.valid);\n          }\n        },\n        dependencies: [i5.NgIf, i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i3.IonButton, i3.IonCard, i3.IonCardContent, i3.IonContent, i3.IonIcon, i3.IonInput, i3.IonItem, i3.IonLabel, i3.IonNote, i3.TextValueAccessor, i3.RouterLinkWithHrefDelegate, i6.RouterLink],\n        styles: [\".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;min-height:100%;max-width:400px;margin:0 auto}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;background:rgba(var(--ion-color-primary-rgb),.1);border-radius:50%;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center}.logo-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px}.text-dark[_ngcontent-%COMP%]{color:var(--ion-color-tertiary)}.text-muted[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.link-primary[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-weight:600;text-decoration:none}.button-large[_ngcontent-%COMP%]{height:50px;--box-shadow: 0 4px 10px rgba(var(--ion-color-primary-rgb), .3)}ion-item[_ngcontent-%COMP%]{--background: transparent}\"]\n      });\n    }\n  }\n  return LoginPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}