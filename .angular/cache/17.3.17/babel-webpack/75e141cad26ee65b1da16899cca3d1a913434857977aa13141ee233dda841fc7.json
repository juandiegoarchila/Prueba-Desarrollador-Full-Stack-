{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/juand/OneDrive/Escritorio/Grupo Merpes/prueba-fullstack-ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../core/services/auth.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"../../core/services/notification.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/router\";\nfunction LoginPage_div_15_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"El correo es requerido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginPage_div_15_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Correo inv\\u00E1lido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginPage_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtemplate(1, LoginPage_div_15_span_1_Template, 2, 0, \"span\", 19)(2, LoginPage_div_15_span_2_Template, 2, 0, \"span\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.loginForm.get(\"email\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r0.loginForm.get(\"email\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"email\"]);\n  }\n}\nfunction LoginPage_div_20_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"La contrase\\u00F1a es requerida.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginPage_div_20_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"M\\u00EDnimo 6 caracteres.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginPage_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtemplate(1, LoginPage_div_20_span_1_Template, 2, 0, \"span\", 19)(2, LoginPage_div_20_span_2_Template, 2, 0, \"span\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.loginForm.get(\"password\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r0.loginForm.get(\"password\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"minlength\"]);\n  }\n}\nexport let LoginPage = /*#__PURE__*/(() => {\n  class LoginPage {\n    constructor(fb, auth, nav, notify, loadingCtrl) {\n      this.fb = fb;\n      this.auth = auth;\n      this.nav = nav;\n      this.notify = notify;\n      this.loadingCtrl = loadingCtrl;\n      this.loginForm = this.fb.group({\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(6)]]\n      });\n    }\n    onSubmit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (_this.loginForm.valid) {\n          const loading = yield _this.loadingCtrl.create({\n            message: 'Validando...'\n          });\n          yield loading.present();\n          const {\n            email,\n            password\n          } = _this.loginForm.value;\n          _this.auth.login(email, password).subscribe({\n            next: () => {\n              loading.dismiss();\n              _this.notify.showSuccess('Bienvenido de nuevo');\n              _this.nav.navigateRoot('/catalog');\n            },\n            error: err => {\n              loading.dismiss();\n              _this.notify.showError('Credenciales incorrectas');\n            }\n          });\n        } else {\n          _this.loginForm.markAllAsTouched();\n        }\n      })();\n    }\n    static {\n      this.ɵfac = function LoginPage_Factory(t) {\n        return new (t || LoginPage)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.NavController), i0.ɵɵdirectiveInject(i4.NotificationService), i0.ɵɵdirectiveInject(i3.LoadingController));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LoginPage,\n        selectors: [[\"app-login\"]],\n        decls: 31,\n        vars: 4,\n        consts: [[1, \"login-content\"], [1, \"login-container\"], [1, \"login-card\", \"fade-in-up\"], [1, \"header-section\"], [1, \"logo-circle\"], [\"name\", \"cube-outline\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"input-group\"], [\"lines\", \"none\", 1, \"custom-item\"], [\"name\", \"mail-outline\", \"slot\", \"start\", 1, \"input-icon\"], [\"mode\", \"md\", \"label\", \"Correo electr\\u00F3nico\", \"label-placement\", \"floating\", \"formControlName\", \"email\", \"type\", \"email\"], [\"class\", \"error-msg\", 4, \"ngIf\"], [\"name\", \"lock-closed-outline\", \"slot\", \"start\", 1, \"input-icon\"], [\"mode\", \"md\", \"label\", \"Contrase\\u00F1a\", \"label-placement\", \"floating\", \"formControlName\", \"password\", \"type\", \"password\"], [1, \"forgot-password\", \"ion-text-right\"], [\"expand\", \"block\", \"type\", \"submit\", 1, \"main-btn\", 3, \"disabled\"], [1, \"footer-link\"], [\"routerLink\", \"/register\"], [1, \"error-msg\"], [4, \"ngIf\"]],\n        template: function LoginPage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n            i0.ɵɵelement(5, \"ion-icon\", 5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"h1\");\n            i0.ɵɵtext(7, \"Bienvenido\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"p\");\n            i0.ɵɵtext(9, \"Ingresa tus credenciales para acceder\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"form\", 6);\n            i0.ɵɵlistener(\"ngSubmit\", function LoginPage_Template_form_ngSubmit_10_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(11, \"div\", 7)(12, \"ion-item\", 8);\n            i0.ɵɵelement(13, \"ion-icon\", 9)(14, \"ion-input\", 10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(15, LoginPage_div_15_Template, 3, 2, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"div\", 7)(17, \"ion-item\", 8);\n            i0.ɵɵelement(18, \"ion-icon\", 12)(19, \"ion-input\", 13);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(20, LoginPage_div_20_Template, 3, 2, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(21, \"div\", 14)(22, \"a\");\n            i0.ɵɵtext(23, \"\\u00BFOlvidaste tu contrase\\u00F1a?\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(24, \"ion-button\", 15);\n            i0.ɵɵtext(25, \" INICIAR SESI\\u00D3N \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(26, \"div\", 16)(27, \"p\");\n            i0.ɵɵtext(28, \"\\u00BFNo tienes cuenta? \");\n            i0.ɵɵelementStart(29, \"a\", 17);\n            i0.ɵɵtext(30, \"Reg\\u00EDstrate ahora\");\n            i0.ɵɵelementEnd()()()()()();\n          }\n          if (rf & 2) {\n            let tmp_1_0;\n            let tmp_2_0;\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_1_0.dirty) && ((tmp_1_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_1_0.invalid));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_2_0.dirty) && ((tmp_2_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_2_0.invalid));\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"disabled\", !ctx.loginForm.valid);\n          }\n        },\n        dependencies: [i5.NgIf, i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i3.IonButton, i3.IonContent, i3.IonIcon, i3.IonInput, i3.IonItem, i3.TextValueAccessor, i3.RouterLinkWithHrefDelegate, i6.RouterLink],\n        styles: [\".login-content[_ngcontent-%COMP%]{--background: #f4f5f8;--padding-top: 0;--padding-bottom: 0}.login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;width:100%;padding:15px;overflow:hidden}.login-card[_ngcontent-%COMP%]{background:#fff;width:100%;max-width:380px;border-radius:20px;box-shadow:0 10px 40px -10px #6c5ce74d;padding:30px 25px;text-align:center;margin:auto;display:flex;flex-direction:column;justify-content:center}@media (max-height: 750px){.login-card[_ngcontent-%COMP%]{padding:20px}.logo-circle[_ngcontent-%COMP%]{width:60px!important;height:60px!important;margin-bottom:10px!important}.logo-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px!important}.header-section[_ngcontent-%COMP%]{margin-bottom:15px!important}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.4rem!important}.input-group[_ngcontent-%COMP%]{margin-bottom:12px!important}.custom-item[_ngcontent-%COMP%]{--min-height: 48px !important}.main-btn[_ngcontent-%COMP%]{height:48px!important;margin-top:5px!important}.footer-link[_ngcontent-%COMP%]{margin-top:15px!important}}@media (max-height: 600px){.header-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.logo-circle[_ngcontent-%COMP%]{width:50px!important;height:50px!important}}.header-section[_ngcontent-%COMP%]{margin-bottom:30px}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#6c5ce7,#a29bfe);border-radius:50%;margin:0 auto 15px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #6c5ce766}.logo-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:36px;color:#fff}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:700;color:#2d3436;font-size:1.8rem;margin:0 0 5px}.header-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#b2bec3;font-size:.95rem;margin:0}.input-group[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left}.custom-item[_ngcontent-%COMP%]{--background: #f1f2f6;--border-radius: 12px;--padding-start: 15px;--inner-padding-end: 15px;--min-height: 58px;--highlight-color-valid: transparent;--highlight-color-invalid: #ff7675;--highlight-color-focused: #6c5ce7;border-radius:12px;width:100%;box-shadow:none;display:flex;align-items:center}.custom-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:10px;color:#999;margin-top:8px}.custom-item.item-has-focus[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#6c5ce7}ion-input[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;--color: #2d3436;--placeholder-color: #a4b0be}.error-msg[_ngcontent-%COMP%]{padding-left:15px;padding-top:5px;color:#ff7675;font-size:.8rem;font-weight:500;font-family:Poppins,sans-serif}.forgot-password[_ngcontent-%COMP%]{margin-bottom:25px}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:.85rem;color:#636e72;text-decoration:none;cursor:pointer}.main-btn[_ngcontent-%COMP%]{--background: linear-gradient(90deg, #6c5ce7 0%, #a29bfe 100%);--background-hover: #5f27cd;--border-radius: 14px;--box-shadow: 0 8px 20px rgba(108, 92, 231, .3);--color: white;font-family:Poppins,sans-serif;font-weight:600;font-size:1rem;height:54px;text-transform:none;letter-spacing:.5px}.footer-link[_ngcontent-%COMP%]{margin-top:30px}.footer-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#636e72;font-size:.9rem}.footer-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6c5ce7;font-weight:700;text-decoration:none}.fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .7s cubic-bezier(.2,.8,.2,1) forwards}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}\"]\n      });\n    }\n  }\n  return LoginPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}