"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5189],{5567:(E,p,e)=>{e.d(p,{J:()=>f});var c=e(467),l=e(4438),s=e(8974);let f=(()=>{class d{constructor(a){this.toastController=a}showSuccess(a){var n=this;return(0,c.A)(function*(){yield n.presentToast(a,"success","checkmark-circle-outline")})()}showError(a){var n=this;return(0,c.A)(function*(){yield n.presentToast(a,"danger","alert-circle-outline")})()}showInfo(a){var n=this;return(0,c.A)(function*(){yield n.presentToast(a,"primary","information-circle-outline")})()}showWarning(a){var n=this;return(0,c.A)(function*(){yield n.presentToast(a,"warning","warning-outline")})()}presentToast(a,n,v){var F=this;return(0,c.A)(function*(){try{yield(yield F.toastController.create({message:a,icon:v,duration:3e3,color:n,position:"bottom",buttons:[{icon:"close",role:"cancel",handler:()=>{}}],cssClass:"custom-toast"})).present()}catch(h){console.error("Error al mostrar notificaci\xf3n:",h)}})()}static{this.\u0275fac=function(n){return new(n||d)(l.KVO(s.K_))}}static{this.\u0275prov=l.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},5189:(E,p,e)=>{e.r(p),e.d(p,{LoginPageModule:()=>L});var c=e(177),l=e(8974),s=e(4341),f=e(9539),d=e(467),y=e(1413),a=e(6977),n=e(4438),v=e(1935),F=e(4517),h=e(5567);function _(o,g){1&o&&(n.j41(0,"span"),n.EFF(1,"El correo es requerido."),n.k0s())}function k(o,g){1&o&&(n.j41(0,"span"),n.EFF(1,"Correo inv\xe1lido."),n.k0s())}function j(o,g){if(1&o&&(n.j41(0,"div",19),n.DNE(1,_,2,0,"span",20)(2,k,2,0,"span",20),n.k0s()),2&o){let t,i;const r=n.XpG();n.R7$(),n.Y8G("ngIf",null==(t=r.loginForm.get("email"))||null==t.errors?null:t.errors.required),n.R7$(),n.Y8G("ngIf",null==(i=r.loginForm.get("email"))||null==i.errors?null:i.errors.email)}}function C(o,g){1&o&&(n.j41(0,"span"),n.EFF(1,"La contrase\xf1a es requerida."),n.k0s())}function T(o,g){1&o&&(n.j41(0,"span"),n.EFF(1,"M\xednimo 6 caracteres."),n.k0s())}function I(o,g){if(1&o&&(n.j41(0,"div",19),n.DNE(1,C,2,0,"span",20)(2,T,2,0,"span",20),n.k0s()),2&o){let t,i;const r=n.XpG();n.R7$(),n.Y8G("ngIf",null==(t=r.loginForm.get("password"))||null==t.errors?null:t.errors.required),n.R7$(),n.Y8G("ngIf",null==(i=r.loginForm.get("password"))||null==i.errors?null:i.errors.minlength)}}let D=(()=>{class o{constructor(t,i,r,u,m){this.fb=t,this.auth=i,this.nav=r,this.notify=u,this.loadingCtrl=m,this.destroy$=new y.B,this.loginForm=this.fb.group({email:["",[s.k0.required,s.k0.email]],password:["",[s.k0.required,s.k0.minLength(6)]]})}onSubmit(){var t=this;return(0,d.A)(function*(){if(t.loginForm.valid){const i=yield t.loadingCtrl.create({message:"Validando..."});yield i.present();const{email:r,password:u}=t.loginForm.value;t.auth.login(r,u).pipe((0,a.Q)(t.destroy$)).subscribe({next:()=>{i.dismiss(),t.notify.showSuccess("Bienvenido de nuevo"),t.nav.navigateRoot("/catalog")},error:m=>{i.dismiss(),t.notify.showError("Credenciales incorrectas")}})}else t.loginForm.markAllAsTouched()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(i){return new(i||o)(n.rXU(s.ok),n.rXU(v.u),n.rXU(F.q9),n.rXU(h.J),n.rXU(l.Xi))}}static{this.\u0275cmp=n.VBU({type:o,selectors:[["app-login"]],decls:31,vars:4,consts:[[1,"auth-content"],[1,"auth-container"],[1,"auth-card","fade-in-up"],[1,"header-section"],[1,"logo-circle"],["name","cube-outline"],[3,"ngSubmit","formGroup"],[1,"input-group"],["lines","none",1,"custom-item"],["name","mail-outline","slot","start","color","medium"],["formControlName","email","type","email","placeholder","Correo electr\xf3nico"],["class","error-msg",4,"ngIf"],["name","lock-closed-outline","slot","start","color","medium"],["formControlName","password","type","password","placeholder","Contrase\xf1a"],[1,"forgot-password","ion-text-right"],["routerLink","/forgot-password"],["expand","block","type","submit",1,"main-btn",3,"disabled"],[1,"footer-link"],["routerLink","/register"],[1,"error-msg"],[4,"ngIf"]],template:function(i,r){if(1&i&&(n.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),n.nrm(5,"ion-icon",5),n.k0s(),n.j41(6,"h1"),n.EFF(7,"Bienvenido"),n.k0s(),n.j41(8,"p"),n.EFF(9,"Ingresa tus credenciales para acceder"),n.k0s()(),n.j41(10,"form",6),n.bIt("ngSubmit",function(){return r.onSubmit()}),n.j41(11,"div",7)(12,"ion-item",8),n.nrm(13,"ion-icon",9)(14,"ion-input",10),n.k0s(),n.DNE(15,j,3,2,"div",11),n.k0s(),n.j41(16,"div",7)(17,"ion-item",8),n.nrm(18,"ion-icon",12)(19,"ion-input",13),n.k0s(),n.DNE(20,I,3,2,"div",11),n.k0s(),n.j41(21,"div",14)(22,"a",15),n.EFF(23,"\xbfOlvidaste tu contrase\xf1a?"),n.k0s()(),n.j41(24,"ion-button",16),n.EFF(25," INICIAR SESI\xd3N "),n.k0s()(),n.j41(26,"div",17)(27,"p"),n.EFF(28,"\xbfNo tienes cuenta? "),n.j41(29,"a",18),n.EFF(30,"Reg\xedstrate ahora"),n.k0s()()()()()()),2&i){let u,m;n.R7$(10),n.Y8G("formGroup",r.loginForm),n.R7$(5),n.Y8G("ngIf",(null==(u=r.loginForm.get("email"))?null:u.dirty)&&(null==(u=r.loginForm.get("email"))?null:u.invalid)),n.R7$(5),n.Y8G("ngIf",(null==(m=r.loginForm.get("password"))?null:m.dirty)&&(null==(m=r.loginForm.get("password"))?null:m.invalid)),n.R7$(4),n.Y8G("disabled",!r.loginForm.valid)}},dependencies:[c.bT,s.qT,s.BC,s.cb,s.j4,s.JD,l.Jm,l.W9,l.iq,l.$w,l.uz,l.Gw,l.oY,f.Wk],encapsulation:2})}}return o})(),L=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=n.$C({type:o})}static{this.\u0275inj=n.G2t({imports:[c.MD,s.YN,s.X1,l.bv,f.iI.forChild([{path:"",component:D}])]})}}return o})()}}]);