"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1523],{1523:(I,l,i)=>{i.r(l),i.d(l,{OrdersPageModule:()=>w});var p=i(9539),g=i(467),m=i(1413),u=i(6977),f=i(6354),t=i(4438),a=i(8974),s=i(177);function h(o,d){if(1&o&&(t.j41(0,"div",22)(1,"div",23)(2,"ion-thumbnail",24),t.nrm(3,"img",25),t.k0s(),t.j41(4,"div",26)(5,"span",27),t.EFF(6),t.k0s(),t.j41(7,"div",28)(8,"span",29),t.EFF(9),t.k0s(),t.j41(10,"span",30),t.EFF(11),t.nI1(12,"currency"),t.k0s()()()(),t.j41(13,"div",31)(14,"span",32),t.EFF(15,"Subtotal"),t.k0s(),t.j41(16,"span",33),t.EFF(17),t.nI1(18,"currency"),t.k0s()()()),2&o){const e=d.$implicit;t.R7$(3),t.Y8G("src",e.product.imageUrl,t.B4B),t.R7$(3),t.JRh(e.product.name),t.R7$(3),t.SpI("Cant: ",e.quantity,""),t.R7$(2),t.SpI("x ",t.ii3(12,5,e.product.price,"COP","symbol","1.0-0"),""),t.R7$(6),t.JRh(t.ii3(18,10,e.total,"COP","symbol","1.0-0"))}}let x=(()=>{class o{constructor(e){this.modalCtrl=e}close(){this.modalCtrl.dismiss()}getStatusColor(e){switch(e){case"completed":return"success";case"synced":return"primary";case"pending":return"warning";default:return"medium"}}getStatusIcon(e){switch(e){case"completed":return"checkmark-done-circle";case"synced":return"cloud-done-outline";case"pending":return"time-outline";default:return"help-circle-outline"}}getStatusLabel(e){switch(e){case"completed":return"\xa1Completado!";case"synced":return"Registrado";case"pending":return"Pendiente";default:return"Estado"}}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(a.W3))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-order-detail"]],inputs:{order:"order"},decls:48,vars:24,consts:[[1,"ion-no-border"],["color","white"],["slot","end"],["color","dark",3,"click"],["name","close-circle","slot","icon-only"],["color","light"],[1,"order-status-banner",3,"ngClass"],[1,"status-icon-container"],[3,"name"],[1,"status-info"],[1,"section-title"],[1,"items-container"],["class","order-item-card",4,"ngFor","ngForOf"],[1,"billing-section"],[1,"billing-card"],[1,"billing-row"],[1,"free"],[1,"divider-dashed"],[1,"billing-row","total"],[1,"total-amount"],["color","white",1,"ion-padding-horizontal","ion-padding-bottom"],["expand","block","fill","outline",1,"main-button",3,"click"],[1,"order-item-card"],[1,"item-main"],[1,"product-thumb"],[3,"src"],[1,"item-details"],[1,"product-name"],[1,"price-qty"],[1,"qty"],[1,"unit-price"],[1,"item-footer"],[1,"subtotal-label"],[1,"item-total"]],template:function(n,r){1&n&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3,"Detalle del Pedido"),t.k0s(),t.j41(4,"ion-buttons",2)(5,"ion-button",3),t.bIt("click",function(){return r.close()}),t.nrm(6,"ion-icon",4),t.k0s()()()(),t.j41(7,"ion-content",5)(8,"div",6)(9,"div",7),t.nrm(10,"ion-icon",8),t.k0s(),t.j41(11,"div",9)(12,"h2"),t.EFF(13),t.k0s(),t.j41(14,"p"),t.EFF(15),t.nI1(16,"slice"),t.nI1(17,"date"),t.k0s()()(),t.j41(18,"div",10),t.EFF(19,"Art\xedculos en tu pedido"),t.k0s(),t.j41(20,"div",11),t.DNE(21,h,19,15,"div",12),t.k0s(),t.j41(22,"div",13)(23,"div",10),t.EFF(24,"Resumen de Pago"),t.k0s(),t.j41(25,"div",14)(26,"div",15)(27,"span"),t.EFF(28,"Subtotal Art\xedculos"),t.k0s(),t.j41(29,"span"),t.EFF(30),t.nI1(31,"currency"),t.k0s()(),t.j41(32,"div",15)(33,"span"),t.EFF(34,"Env\xedo"),t.k0s(),t.j41(35,"span",16),t.EFF(36,"Gratis"),t.k0s()(),t.nrm(37,"div",17),t.j41(38,"div",18)(39,"span"),t.EFF(40,"Total Pagado"),t.k0s(),t.j41(41,"span",19),t.EFF(42),t.nI1(43,"currency"),t.k0s()()()()(),t.j41(44,"ion-footer",0)(45,"ion-toolbar",20)(46,"ion-button",21),t.bIt("click",function(){return r.close()}),t.EFF(47," Entendido "),t.k0s()()()),2&n&&(t.R7$(8),t.Y8G("ngClass",r.order.status),t.R7$(2),t.Y8G("name",r.getStatusIcon(r.order.status)),t.R7$(3),t.JRh(r.getStatusLabel(r.order.status)),t.R7$(2),t.Lme("Pedido #",t.i5U(16,8,r.order.id,-6)," \u2022 ",t.i5U(17,11,r.order.date,"medium"),""),t.R7$(6),t.Y8G("ngForOf",r.order.items),t.R7$(9),t.JRh(t.ii3(31,14,r.order.total,"COP","symbol","1.0-0")),t.R7$(12),t.JRh(t.ii3(43,19,r.order.total,"COP","symbol","1.0-0")))},dependencies:[s.YU,s.Sq,a.Jm,a.QW,a.W9,a.M0,a.eU,a.iq,a.Zx,a.BC,a.ai,s.P9,s.oe,s.vh],styles:["ion-title[_ngcontent-%COMP%]{font-weight:800;font-size:18px;letter-spacing:-.5px}.order-status-banner[_ngcontent-%COMP%]{padding:30px 20px;display:flex;align-items:center;gap:15px;background:#fff;margin-bottom:20px;border-bottom:1px solid #eee}.status-icon-container[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:15px;display:flex;align-items:center;justify-content:center;font-size:24px}.pending[_ngcontent-%COMP%]   .status-icon-container[_ngcontent-%COMP%]{background:#fff4e6;color:#fd7e14}.synced[_ngcontent-%COMP%]   .status-icon-container[_ngcontent-%COMP%]{background:#e7f5ff;color:#228be6}.completed[_ngcontent-%COMP%]   .status-icon-container[_ngcontent-%COMP%]{background:#ebfbee;color:#40c057}.status-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:800;color:#2d3436}.status-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:13px;color:#636e72}.section-title[_ngcontent-%COMP%]{margin:0 20px 12px;font-size:12px;font-weight:700;color:#a0a0a0;text-transform:uppercase;letter-spacing:1px}.items-container[_ngcontent-%COMP%]{padding:0 20px;margin-bottom:25px}.order-item-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:15px;margin-bottom:12px;box-shadow:0 4px 12px #00000008}.item-main[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center}.product-thumb[_ngcontent-%COMP%]{--border-radius: 12px;width:60px;height:60px;background:#f8f9fa}.item-details[_ngcontent-%COMP%]{flex:1}.product-name[_ngcontent-%COMP%]{font-weight:700;font-size:14px;color:#2d3436;display:block;margin-bottom:4px}.price-qty[_ngcontent-%COMP%]{font-size:13px;color:#636e72}.qty[_ngcontent-%COMP%]{font-weight:600;color:var(--ion-color-primary)}.item-footer[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px solid #f8f9fa;display:flex;justify-content:space-between;align-items:center}.subtotal-label[_ngcontent-%COMP%]{font-size:11px;color:#b2bec3;font-weight:600}.item-total[_ngcontent-%COMP%]{font-weight:800;color:#2d3436;font-size:15px}.billing-section[_ngcontent-%COMP%]{padding:0 20px 40px}.billing-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:20px;box-shadow:0 4px 12px #00000008}.billing-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;font-size:14px;color:#636e72}.free[_ngcontent-%COMP%]{color:#40c057;font-weight:700}.divider-dashed[_ngcontent-%COMP%]{height:1px;border-top:1px dashed #eee;margin:15px 0}.billing-row.total[_ngcontent-%COMP%]{margin-bottom:0;color:#2d3436;font-weight:800}.total-amount[_ngcontent-%COMP%]{font-size:20px;color:var(--ion-color-primary)}.main-button[_ngcontent-%COMP%]{--border-radius: 12px;font-weight:700;margin-top:10px}"]})}}return o})();var b=i(5182),v=i(1935),C=i(4517),y=i(8245),O=i(5577);function P(o,d){if(1&o){const e=t.RV6();t.j41(0,"ion-card",8),t.bIt("click",function(){const r=t.eBV(e).$implicit,c=t.XpG(3);return t.Njj(c.viewDetail(r))}),t.j41(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),t.EFF(5," ID Pedido "),t.j41(6,"span",13),t.EFF(7),t.k0s()(),t.j41(8,"ion-badge",14),t.EFF(9),t.k0s()(),t.j41(10,"div",15),t.nrm(11,"ion-icon",16),t.j41(12,"span"),t.EFF(13),t.nI1(14,"date"),t.k0s()(),t.nrm(15,"ion-icon",17),t.k0s(),t.j41(16,"div",18)(17,"div",19)(18,"span",20),t.EFF(19,"Contenido"),t.k0s(),t.j41(20,"span",21),t.EFF(21),t.k0s()(),t.j41(22,"div",22)(23,"span",20),t.EFF(24,"Total Pedido"),t.k0s(),t.j41(25,"span",23),t.EFF(26),t.nI1(27,"currency"),t.k0s()()()()()}if(2&o){const e=d.$implicit,n=t.XpG(3);t.R7$(7),t.SpI("#",n.getShortId(e.id),""),t.R7$(),t.Y8G("color",n.getStatusColor(e.status)),t.R7$(),t.SpI(" ",n.getStatusLabel(e.status)," "),t.R7$(4),t.JRh(t.i5U(14,7,e.date,"MMM d, y, h:mm a")),t.R7$(8),t.Lme("",n.getItemsCount(e)," ",1===n.getItemsCount(e)?"art\xedculo":"art\xedculos",""),t.R7$(5),t.JRh(t.ii3(27,10,e.total,"COP","symbol","1.0-0"))}}function F(o,d){if(1&o&&(t.j41(0,"div"),t.DNE(1,P,28,15,"ion-card",7),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(),t.Y8G("ngForOf",e)}}function _(o,d){if(1&o){const e=t.RV6();t.j41(0,"app-empty-state",24),t.bIt("action",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.goToCatalog())}),t.k0s()}}function k(o,d){if(1&o&&(t.j41(0,"div"),t.DNE(1,F,2,1,"div",6)(2,_,1,0,"ng-template",null,0,t.C5r),t.k0s()),2&o){const e=d.ngIf,n=t.sdS(3);t.R7$(),t.Y8G("ngIf",e.length>0)("ngIfElse",n)}}let M=(()=>{class o{constructor(e,n,r,c){this.orderService=e,this.auth=n,this.nav=r,this.modalCtrl=c,this.destroy$=new m.B}ngOnInit(){this.orders$=this.orderService.getOrders(this.auth.currentUserValue?.uid||"1").pipe((0,u.Q)(this.destroy$),(0,f.T)(n=>n.sort((r,c)=>new Date(c.date).getTime()-new Date(r.date).getTime())))}goToCatalog(){this.nav.navigateBack("/catalog")}getStatusColor(e){switch(e){case"completed":return"success";case"synced":return"primary";case"pending":return"warning";default:return"medium"}}getStatusLabel(e){switch(e){case"completed":return"Completado";case"synced":return"Registrado";case"pending":return"Pendiente";default:return"Estado"}}getItemsCount(e){return e.items.reduce((n,r)=>n+r.quantity,0)}getShortId(e){return e&&e.length>6?e.slice(-6):e}viewDetail(e){var n=this;return(0,g.A)(function*(){yield(yield n.modalCtrl.create({component:x,componentProps:{order:e}})).present()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(b.Q),t.rXU(v.u),t.rXU(C.q9),t.rXU(a.W3))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-orders"]],decls:7,vars:4,consts:[["emptyOrders",""],["title","Mis Pedidos",3,"backButton"],["fill","clear","color","light",3,"click"],["name","arrow-back-circle-outline","slot","start"],["color","light",1,"ion-padding"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","order-card",3,"click",4,"ngFor","ngForOf"],[1,"order-card",3,"click"],[1,"card-inner"],[1,"card-header-section"],[1,"order-header"],[1,"order-id"],[1,"order-id-number"],[1,"badge-modern",3,"color"],[1,"order-date"],["name","time-outline","color","primary"],["name","chevron-forward-outline","color","medium",1,"chevron-icon"],[1,"order-summary-section"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"summary-item",2,"text-align","right"],[1,"summary-value","total-value"],["title","Sin Pedidos","description","A\xfan no has realizado ninguna compra.","icon","bag-handle-outline","actionText","Ir al cat\xe1logo",3,"action"]],template:function(n,r){1&n&&(t.j41(0,"app-header",1)(1,"ion-button",2),t.bIt("click",function(){return r.goToCatalog()}),t.nrm(2,"ion-icon",3),t.EFF(3," Volver "),t.k0s()(),t.j41(4,"ion-content",4),t.DNE(5,k,4,2,"div",5),t.nI1(6,"async"),t.k0s()),2&n&&(t.Y8G("backButton",!0),t.R7$(5),t.Y8G("ngIf",t.bMT(6,2,r.orders$)))},dependencies:[y.y,O.o,s.Sq,s.bT,a.In,a.Jm,a.b_,a.W9,a.iq,s.Jj,s.oe,s.vh],styles:[".order-card[_ngcontent-%COMP%]{border-radius:20px;margin-bottom:20px;box-shadow:0 10px 25px #0000000d;background:#fff;border:none;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.order-card[_ngcontent-%COMP%]:active{transform:scale(.97);box-shadow:0 4px 10px #0000001a}.card-header-section[_ngcontent-%COMP%]{padding:20px;position:relative}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.order-id[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:var(--ion-color-medium);text-transform:uppercase;letter-spacing:1px}.order-id-number[_ngcontent-%COMP%]{font-size:20px;font-weight:800;color:#2d3436;display:block;margin-top:2px}.order-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;color:var(--ion-color-medium);font-weight:500}.chevron-icon[_ngcontent-%COMP%]{position:absolute;right:15px;bottom:25px;font-size:20px;opacity:.5}.order-summary-section[_ngcontent-%COMP%]{background:#fdfdfd;padding:15px 20px;display:flex;justify-content:space-between;align-items:center;border-top:1px dashed #eee}.summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.summary-label[_ngcontent-%COMP%]{font-size:10px;color:#a0a0a0;text-transform:uppercase;font-weight:700;letter-spacing:.5px}.summary-value[_ngcontent-%COMP%]{font-weight:700;color:#2d3436;font-size:15px}.total-value[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:18px;font-weight:800}.badge-modern[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;--padding-top: 6px;--padding-bottom: 6px;border-radius:10px;font-size:10px;font-weight:700;letter-spacing:.5px;box-shadow:0 4px 10px #0000000d}"]})}}return o})();var j=i(3887);const E=[{path:"",component:M}];let w=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[j.G,p.iI.forChild(E)]})}}return o})()}}]);