"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6727],{5567:(R,h,s)=>{s.d(h,{J:()=>_});var d=s(467),m=s(4438),o=s(8974);let _=(()=>{class p{constructor(a){this.toastController=a}showSuccess(a){var u=this;return(0,d.A)(function*(){yield u.presentToast(a,"success","checkmark-circle-outline")})()}showError(a){var u=this;return(0,d.A)(function*(){yield u.presentToast(a,"danger","alert-circle-outline")})()}showInfo(a){var u=this;return(0,d.A)(function*(){yield u.presentToast(a,"primary","information-circle-outline")})()}showWarning(a){var u=this;return(0,d.A)(function*(){yield u.presentToast(a,"warning","warning-outline")})()}presentToast(a,u,e){var F=this;return(0,d.A)(function*(){try{yield(yield F.toastController.create({message:a,icon:e,duration:3e3,color:u,position:"bottom",buttons:[{icon:"close",role:"cancel",handler:()=>{}}],cssClass:"custom-toast"})).present()}catch(v){console.error("Error al mostrar notificaci\xf3n:",v)}})()}static{this.\u0275fac=function(u){return new(u||p)(m.KVO(o.K_))}}static{this.\u0275prov=m.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},6727:(R,h,s)=>{s.r(h),s.d(h,{RegisterPageModule:()=>Y});var d=s(177),m=s(8974),o=s(4341),_=s(9539),p=s(467),k=s(1413),a=s(6977);class u{static passwordMatch(c,n){return i=>{const r=i.get(c),l=i.get(n);return r&&l&&r.value!==l.value?(l.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}}}var e=s(4438),F=s(1935),v=s(4517),y=s(5567);function P(t,c){1&t&&(e.j41(0,"span"),e.EFF(1,"El nombre es requerido."),e.k0s())}function T(t,c){if(1&t&&(e.j41(0,"div",23),e.DNE(1,P,2,0,"span",20),e.k0s()),2&t){let n;const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==(n=i.registerForm.get("name"))||null==n.errors?null:n.errors.required)}}function j(t,c){1&t&&(e.j41(0,"span"),e.EFF(1,"El correo es requerido."),e.k0s())}function I(t,c){1&t&&(e.j41(0,"span"),e.EFF(1,"Ingresa un correo v\xe1lido."),e.k0s())}function G(t,c){if(1&t&&(e.j41(0,"div",23),e.DNE(1,j,2,0,"span",20)(2,I,2,0,"span",20),e.k0s()),2&t){let n,i;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(n=r.registerForm.get("email"))||null==n.errors?null:n.errors.required),e.R7$(),e.Y8G("ngIf",null==(i=r.registerForm.get("email"))||null==i.errors?null:i.errors.email)}}function w(t,c){1&t&&(e.j41(0,"span"),e.EFF(1,"La contrase\xf1a es requerida."),e.k0s())}function C(t,c){1&t&&(e.j41(0,"span"),e.EFF(1,"M\xednimo 6 caracteres."),e.k0s())}function D(t,c){if(1&t&&(e.j41(0,"div",23),e.DNE(1,w,2,0,"span",20)(2,C,2,0,"span",20),e.k0s()),2&t){let n,i;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(n=r.registerForm.get("password"))||null==n.errors?null:n.errors.required),e.R7$(),e.Y8G("ngIf",null==(i=r.registerForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function $(t,c){1&t&&(e.j41(0,"div",23)(1,"span"),e.EFF(2,"Las contrase\xf1as no coinciden."),e.k0s()())}function b(t,c){1&t&&e.nrm(0,"ion-spinner",24)}function M(t,c){1&t&&(e.j41(0,"span"),e.EFF(1,"Registrarme"),e.k0s())}let L=(()=>{class t{constructor(n,i,r,l){this.fb=n,this.auth=i,this.nav=r,this.notify=l,this.isLoading=!1,this.destroy$=new k.B,this.registerForm=this.fb.group({name:["",o.k0.required],email:["",[o.k0.required,o.k0.email]],password:["",[o.k0.required,o.k0.minLength(6)]],confirmPassword:["",[o.k0.required]]},{validators:u.passwordMatch("password","confirmPassword")})}onSubmit(){var g,n=this;if(this.registerForm.valid){this.isLoading=!0;const{name:i,email:r,password:l}=this.registerForm.value;this.auth.register(i,r,l).pipe((0,a.Q)(this.destroy$)).subscribe({next:(g=(0,p.A)(function*(){yield n.auth.logout(),n.isLoading=!1,n.notify.showSuccess("\xa1Registro exitoso! Por favor, inicia sesi\xf3n para continuar."),n.nav.navigateRoot("/login")}),function(){return g.apply(this,arguments)}),error:g=>{this.isLoading=!1,this.notify.showError("Error al registrar: "+g)}})}}goToLogin(){this.nav.navigateBack("/login")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(o.ok),e.rXU(F.u),e.rXU(v.q9),e.rXU(y.J))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-register"]],decls:39,vars:8,consts:[[1,"auth-content"],[1,"auth-container"],[1,"auth-card","fade-in-up"],[1,"header-section"],[1,"logo-circle"],["name","person-add-outline"],[3,"ngSubmit","formGroup"],[1,"input-group"],["lines","none",1,"custom-item"],["name","person-outline","slot","start","color","medium"],["formControlName","name","type","text","placeholder","Nombre completo"],["class","error-msg",4,"ngIf"],["name","mail-outline","slot","start","color","medium"],["formControlName","email","type","email","placeholder","Correo electr\xf3nico"],["name","lock-closed-outline","slot","start","color","medium"],["formControlName","password","type","password","placeholder","Contrase\xf1a"],["name","shield-checkmark-outline","slot","start","color","medium"],["formControlName","confirmPassword","type","password","placeholder","Confirmar contrase\xf1a"],["expand","block","type","submit",1,"main-btn",3,"disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],[1,"footer-link"],[3,"click"],[1,"error-msg"],["name","crescent"]],template:function(i,r){if(1&i&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.nrm(5,"ion-icon",5),e.k0s(),e.j41(6,"h2"),e.EFF(7,"Crear Cuenta"),e.k0s(),e.j41(8,"p"),e.EFF(9,"\xdanete para explorar nuestro cat\xe1logo"),e.k0s()(),e.j41(10,"form",6),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(11,"div",7)(12,"ion-item",8),e.nrm(13,"ion-icon",9)(14,"ion-input",10),e.k0s(),e.DNE(15,T,2,1,"div",11),e.k0s(),e.j41(16,"div",7)(17,"ion-item",8),e.nrm(18,"ion-icon",12)(19,"ion-input",13),e.k0s(),e.DNE(20,G,3,2,"div",11),e.k0s(),e.j41(21,"div",7)(22,"ion-item",8),e.nrm(23,"ion-icon",14)(24,"ion-input",15),e.k0s(),e.DNE(25,D,3,2,"div",11),e.k0s(),e.j41(26,"div",7)(27,"ion-item",8),e.nrm(28,"ion-icon",16)(29,"ion-input",17),e.k0s(),e.DNE(30,$,3,0,"div",11),e.k0s(),e.j41(31,"ion-button",18),e.DNE(32,b,1,0,"ion-spinner",19)(33,M,2,0,"span",20),e.k0s()(),e.j41(34,"div",21)(35,"p"),e.EFF(36,"\xbfYa tienes cuenta? "),e.j41(37,"a",22),e.bIt("click",function(){return r.goToLogin()}),e.EFF(38,"Inicia Sesi\xf3n"),e.k0s()()()()()()),2&i){let l,g,f,E;e.R7$(10),e.Y8G("formGroup",r.registerForm),e.R7$(5),e.Y8G("ngIf",(null==(l=r.registerForm.get("name"))?null:l.touched)&&(null==(l=r.registerForm.get("name"))?null:l.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(g=r.registerForm.get("email"))?null:g.touched)&&(null==(g=r.registerForm.get("email"))?null:g.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(f=r.registerForm.get("password"))?null:f.touched)&&(null==(f=r.registerForm.get("password"))?null:f.invalid)),e.R7$(5),e.Y8G("ngIf",r.registerForm.hasError("passwordMismatch")&&(null==(E=r.registerForm.get("confirmPassword"))?null:E.touched)),e.R7$(),e.Y8G("disabled",!r.registerForm.valid||r.isLoading),e.R7$(),e.Y8G("ngIf",r.isLoading),e.R7$(),e.Y8G("ngIf",!r.isLoading)}},dependencies:[d.bT,o.qT,o.BC,o.cb,o.j4,o.JD,m.Jm,m.W9,m.iq,m.$w,m.uz,m.w2,m.Gw],encapsulation:2})}}return t})(),Y=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[d.MD,o.YN,o.X1,m.bv,_.iI.forChild([{path:"",component:L}])]})}}return t})()}}]);