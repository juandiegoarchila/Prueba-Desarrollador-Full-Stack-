"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6727],{6727:(N,g,l)=>{l.r(g),l.d(g,{RegisterPageModule:()=>b});var d=l(177),u=l(8974),s=l(4341),f=l(253),h=l(467);class v{static passwordMatch(a,t){return i=>{const r=i.get(a),o=i.get(t);return r&&o&&r.value!==o.value?(o.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}}}var e=l(4438),F=l(1935),k=l(4517),R=l(5567);function _(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"El nombre es requerido."),e.k0s())}function E(n,a){if(1&n&&(e.j41(0,"div",23),e.DNE(1,_,2,0,"span",20),e.k0s()),2&n){let t;const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=i.registerForm.get("name"))||null==t.errors?null:t.errors.required)}}function j(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"El correo es requerido."),e.k0s())}function P(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"Ingresa un correo v\xe1lido."),e.k0s())}function G(n,a){if(1&n&&(e.j41(0,"div",23),e.DNE(1,j,2,0,"span",20)(2,P,2,0,"span",20),e.k0s()),2&n){let t,i;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=r.registerForm.get("email"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(i=r.registerForm.get("email"))||null==i.errors?null:i.errors.email)}}function I(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"La contrase\xf1a es requerida."),e.k0s())}function T(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"M\xednimo 6 caracteres."),e.k0s())}function w(n,a){if(1&n&&(e.j41(0,"div",23),e.DNE(1,I,2,0,"span",20)(2,T,2,0,"span",20),e.k0s()),2&n){let t,i;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=r.registerForm.get("password"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(i=r.registerForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function y(n,a){1&n&&(e.j41(0,"div",23)(1,"span"),e.EFF(2,"Las contrase\xf1as no coinciden."),e.k0s()())}function C(n,a){1&n&&e.nrm(0,"ion-spinner",24)}function Y(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"Registrarme"),e.k0s())}let $=(()=>{class n{constructor(t,i,r,o){this.fb=t,this.auth=i,this.nav=r,this.notify=o,this.isLoading=!1,this.registerForm=this.fb.group({name:["",s.k0.required],email:["",[s.k0.required,s.k0.email]],password:["",[s.k0.required,s.k0.minLength(6)]],confirmPassword:["",[s.k0.required]]},{validators:v.passwordMatch("password","confirmPassword")})}onSubmit(){var m,t=this;if(this.registerForm.valid){this.isLoading=!0;const{name:i,email:r,password:o}=this.registerForm.value;this.auth.register(i,r,o).subscribe({next:(m=(0,h.A)(function*(){yield t.auth.logout(),t.isLoading=!1,t.notify.showSuccess("\xa1Registro exitoso! Por favor, inicia sesi\xf3n para continuar."),t.nav.navigateRoot("/login")}),function(){return m.apply(this,arguments)}),error:m=>{this.isLoading=!1,this.notify.showError("Error al registrar: "+m)}})}}goToLogin(){this.nav.navigateBack("/login")}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(s.ok),e.rXU(F.u),e.rXU(k.q9),e.rXU(R.J))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-register"]],decls:39,vars:8,consts:[[1,"auth-content"],[1,"auth-container"],[1,"auth-card","fade-in-up"],[1,"header-section"],[1,"logo-circle"],["name","person-add-outline"],[3,"ngSubmit","formGroup"],[1,"input-group"],["lines","none",1,"custom-item"],["name","person-outline","slot","start","color","medium"],["formControlName","name","type","text","placeholder","Nombre completo"],["class","error-msg",4,"ngIf"],["name","mail-outline","slot","start","color","medium"],["formControlName","email","type","email","placeholder","Correo electr\xf3nico"],["name","lock-closed-outline","slot","start","color","medium"],["formControlName","password","type","password","placeholder","Contrase\xf1a"],["name","shield-checkmark-outline","slot","start","color","medium"],["formControlName","confirmPassword","type","password","placeholder","Confirmar contrase\xf1a"],["expand","block","type","submit",1,"main-btn",3,"disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],[1,"footer-link"],[3,"click"],[1,"error-msg"],["name","crescent"]],template:function(i,r){if(1&i&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.nrm(5,"ion-icon",5),e.k0s(),e.j41(6,"h2"),e.EFF(7,"Crear Cuenta"),e.k0s(),e.j41(8,"p"),e.EFF(9,"\xdanete para explorar nuestro cat\xe1logo"),e.k0s()(),e.j41(10,"form",6),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(11,"div",7)(12,"ion-item",8),e.nrm(13,"ion-icon",9)(14,"ion-input",10),e.k0s(),e.DNE(15,E,2,1,"div",11),e.k0s(),e.j41(16,"div",7)(17,"ion-item",8),e.nrm(18,"ion-icon",12)(19,"ion-input",13),e.k0s(),e.DNE(20,G,3,2,"div",11),e.k0s(),e.j41(21,"div",7)(22,"ion-item",8),e.nrm(23,"ion-icon",14)(24,"ion-input",15),e.k0s(),e.DNE(25,w,3,2,"div",11),e.k0s(),e.j41(26,"div",7)(27,"ion-item",8),e.nrm(28,"ion-icon",16)(29,"ion-input",17),e.k0s(),e.DNE(30,y,3,0,"div",11),e.k0s(),e.j41(31,"ion-button",18),e.DNE(32,C,1,0,"ion-spinner",19)(33,Y,2,0,"span",20),e.k0s()(),e.j41(34,"div",21)(35,"p"),e.EFF(36,"\xbfYa tienes cuenta? "),e.j41(37,"a",22),e.bIt("click",function(){return r.goToLogin()}),e.EFF(38,"Inicia Sesi\xf3n"),e.k0s()()()()()()),2&i){let o,m,c,p;e.R7$(10),e.Y8G("formGroup",r.registerForm),e.R7$(5),e.Y8G("ngIf",(null==(o=r.registerForm.get("name"))?null:o.touched)&&(null==(o=r.registerForm.get("name"))?null:o.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(m=r.registerForm.get("email"))?null:m.touched)&&(null==(m=r.registerForm.get("email"))?null:m.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(c=r.registerForm.get("password"))?null:c.touched)&&(null==(c=r.registerForm.get("password"))?null:c.invalid)),e.R7$(5),e.Y8G("ngIf",r.registerForm.hasError("passwordMismatch")&&(null==(p=r.registerForm.get("confirmPassword"))?null:p.touched)),e.R7$(),e.Y8G("disabled",!r.registerForm.valid||r.isLoading),e.R7$(),e.Y8G("ngIf",r.isLoading),e.R7$(),e.Y8G("ngIf",!r.isLoading)}},dependencies:[d.bT,s.qT,s.BC,s.cb,s.j4,s.JD,u.Jm,u.W9,u.iq,u.$w,u.uz,u.w2,u.Gw],encapsulation:2})}}return n})(),b=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[d.MD,s.YN,s.X1,u.bv,f.iI.forChild([{path:"",component:$}])]})}}return n})()}}]);